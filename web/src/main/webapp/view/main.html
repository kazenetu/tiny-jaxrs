<style type="text/css">
.buttons-row
{
    height:2em;
}
td
{
    padding-top:0.25em;
    padding-bottom:0.25em;
}
</style>

<div ng-include="'view/header.html'"></div>

<!-- メイン画面 -->
<div class="container" ng-init="ctrl.init()" ng-controller="searchSample as ctrl">
    <!-- 検索条件 -->
    <form class="form-inline">
    <div class="form-group">
        <label for="searchUserId">ユーザーID</label>
        <input type="text" id = "searchUserId"  ng-model="ctrl.searchUserId">
    </div>
    </form>

    <!-- ボタン類 -->
    <div class="form-group buttons-row">
        <div class="pull-right">
            <form action="api/user/download" method="POST" style="float:left;padding-right:1em;">
                <input type="hidden" name="userId" value={{ctrl.userId}}>
                <input type="hidden" name="userName" value={{ctrl.userName}}>

                <input type="submit" class="btn" value="CSV出力">
            </form>
            <form action="api/user/downloadPDF" method="POST" style="float:left;padding-right:1em;">
                <input type="hidden" name="userId" value={{ctrl.userId}}>
                <input type="hidden" name="userName" value={{ctrl.userName}}>

                <input type="submit" class="btn" value="PDF出力">

            </form>
            <input type="button" class="btn" ng-click="ctrl.search(0)"  value="検索">
        </div>
    </div>

    <!-- 検索結果 -->
    <div>
    <pager total-page={{ctrl.totalPage}} on-paging="ctrl.paging(pageIndex,sender)" on-send-root="ctrl.sendRoot(src)" />

    <table class="table-bordered">
        <tr>
            <th class="text-center" style="width:10em;">
                ID
            </th>
            <th class="text-center" style="width:10em;">
                名前
            </th>
            <th class="text-center" style="width:10em;">
                パスワード
            </th>
            <th class="text-center" style="width:5em;">
                変更
            </th>
        </tr>
        <tr  ng-repeat="result in ctrl.searchResult">
            <td class="text-center">
                {{result.id}}
            </td>
            <td class="text-left">
                {{result.name}}
            </td>
            <td class="text-left">
                {{result.password}}
            </td>
            <td class="text-center">
                <button class="btn btn-sm" ng-click="ctrl.edit(result.id)")>編集</button>
            </td>
        </tr>
    </table>

    <pager total-page={{ctrl.totalPage}} on-paging="ctrl.paging(pageIndex,sender)" on-send-root="ctrl.sendRoot(src)" />
    </div>
</div>
